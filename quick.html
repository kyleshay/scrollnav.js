<html>
  <head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>
    <script>
    window.addEventListener('load', function(){ // on page load

      function scrollnav(options) {
        var nav = options.nav;
        var hover = options.hover;
        var content = '.content';
        var title = '.title';
        var row = '.row';

        var rows = document.querySelectorAll(row);

        var padding = Math.floor(window.screen.height / (rows.length + 1) / 8);
        for(var i = 0; i < rows.length; i++) {
          var li = document.createElement('li');
          li.innerText = '*';
          li.dataset.id = rows[i].querySelector(content).id;
          li.dataset.title = rows[i].querySelector(title).innerText;
          nav.appendChild(li);
        }

        var current = 0;
        function start(e) {
          e = update(e);
          hover.style.display = 'block';
          if(valid(e)) {
            hover.style.display = 'block';

            if(e.dataset.id === undefined) return;
            e.classList.add('selected')
            current = e.dataset.id;
            hover.innerText = e.dataset.title;
          }
        }

        function move(e) {
          e.preventDefault();
          e = update(e);
          if(valid(e)) {
            hover.style.display = 'block';

            if(e.dataset.id === undefined) return;
            e.classList.add('selected')
            current = e.dataset.id;
            hover.innerText = e.dataset.title;
          }
        }

        function end(e) {
          e = update(e);
          if(valid(e)) {
            document.getElementById(current).parentNode.scrollIntoView();
          }
        }

        function valid(e) {
          return e != null && (e.id === 'nav' || e.parentNode.id === 'nav');
        }

        function update(e) {
          if(e.changedTouches) {
            e = e.changedTouches[0]
          }
          e = document.elementFromPoint(e.clientX, e.clientY);
          hover.style.display = 'none';
          for(var s = 0; s < nav.childNodes.length; s++) {
            nav.childNodes[s].className = '';
          }
          return e;
        }

        nav.addEventListener('touchstart', start, false);
        nav.addEventListener('mousedown', start, false);
        nav.addEventListener('touchend', end, false);
        nav.addEventListener('mouseup', end, false);
        nav.addEventListener('touchmove', move, false);
        nav.addEventListener('mousemove', move, false);
      }

      var o = {
        nav: document.getElementById('nav'),
        hover: document.getElementById('hover')
      }
      scrollnav(o);
    }, false);
    </script>
    <style>
    body {
      margin: 0;
      padding: 0;
    }
    .fixed-nav {
      background: rgba(0,0,0,.2);
      width: 50px;
      position: fixed;
      height: 100%;
      right: 0;
      padding: 0;
      margin: 0;
      padding-top: 70px;
    }
    .fixed-nav li {
      list-style-type: none;
      padding: 0;
      margin: 0;
      text-align: center;
    }
    .fixed-nav li.selected {
      font-size: 1.4em;
      color: green;
    }
    .hover {
      display: none;
      width:300px;
      background: rgba(21,13,13,.8);
      position:fixed;
      top:50%;
      left:50%;
      margin-top:-100px;
      margin-left:-100px;
      overflow-y:scroll;
      padding:5px;
    }
    </style>
  </head>
  <body>
    <ul id="hover" class="hover">
    </ul>
    <ul id="nav" class="fixed-nav">
    </ul>
    <div id="allitems" class="content">
      <div class="row"><div class="title">Primary Weapons</div><div class="content" id="sort-primary"><br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X</div></div>
      <div class="row"><div class="title">Special Weapons</div><div class="content" id="sort-special"><br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X</div></div>
      <div class="row"><div class="title">Heavy Weapons</div><div class="content" id="sort-heavy"><br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X</div></div>
      <div class="row"><div class="title">Helmet</div><div class="content" id="sort-helmet"><br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X</div></div>
      <div class="row"><div class="title">Gauntlets</div><div class="content" id="sort-gauntlets"><br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X</div></div>
      <div class="row"><div class="title">Chest Armor</div><div class="content" id="sort-chest"><br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X</div></div>
      <div class="row"><div class="title">Leg Armor</div><div class="content" id="sort-leg"><br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X</div></div>
      <div class="row"><div class="title">Shader</div><div class="content" id="sort-armor"><br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X</div></div>
      <div class="row"><div class="title">Misc</div><div class="content" id="sort-miscellaneous"><br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X</div></div>
      <div class="row"><div class="title">Class</div><div class="content" id="sort-class"><br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X</div></div>
      <div class="row"><div class="title">Emblem</div><div class="content" id="sort-emblem"><br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X</div></div>
      <div class="row"><div class="title">Titan</div><div class="content" id="sort-titan"><br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X</div></div>
      <div class="row"><div class="title">Hunter</div><div class="content" id="sort-hunter"><br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X</div></div>
      <div class="row"><div class="title">Warlock</div><div class="content" id="sort-warlock"><br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X</div></div>
      <div class="row"><div class="title">Vehicle</div><div class="content" id="sort-vehicle"><br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X</div></div>
      <div class="row"><div class="title">Ship</div><div class="content" id="sort-ship"><br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X</div></div>
      <div class="row"><div class="title">Ghost</div><div class="content" id="sort-ghost"><br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X<br />X</div></div>
    </div>
  </body>
</html>
